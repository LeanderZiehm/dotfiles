








# ------------------------
# General Settings
# ------------------------
bind r source-file ~/.tmux.conf \; display "Reloaded!"
set -g mouse on
set-option -g history-limit 5000
set -g base-index 1
setw -g pane-base-index 1
set -g default-terminal "screen-256color"

bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D


%hidden BG_DARK="#0a1628"
%hidden BG_MID="#1e3a5f"
%hidden BG_PANEL="#999999"
%hidden BLUE_BRIGHT="#18356b"
%hidden BLUE_ACTIVE="#18356b"
%hidden GRAY_DARK="#313244"
%hidden GRAY_MID="#6c7086"

# Move status bar to top
set-option -g status-position top

# Enable 256 color support
set -g default-terminal "screen-256color"

# Status bar styling
set -g status-interval 1
set -g status-justify centre

# Status bar colors - dark gradient background
set -g status-style bg=$BG_DARK,fg=$BLUE_BRIGHT

# Left side - Session name with modern styling
set -g status-left-length 50
set -g status-left "#[fg=$BG_PANEL,bg=$BLUE_BRIGHT,bold] ó°‡„ #S #[fg=$BLUE_BRIGHT,bg=$BG_DARK]"

# Right side - minimal or empty for clean look
set -g status-right-length 0
set -g status-right ""

# Window (tab) styling - inactive windows
set -g window-status-format "#[fg=$GRAY_DARK,bg=$BG_MID] #[fg=$GRAY_MID,bg=$BG_MID]#I:#W #[fg=$BG_MID,bg=$BG_DARK]"

# Window (tab) styling - active window
set -g window-status-current-format "#[fg=$BG_DARK,bg=$BLUE_ACTIVE] #[fg=$BG_PANEL,bg=$BLUE_ACTIVE,bold]#I:#W #[fg=$BLUE_ACTIVE,bg=$BG_DARK]"

# Window separator
set -g window-status-separator ""

# Pane border colors
set -g pane-border-style fg=$GRAY_DARK
set -g pane-active-border-style fg=$BLUE_BRIGHT

# Message styling
set -g message-style bg=$BLUE_ACTIVE,fg=$BG_PANEL,bold

# Activity/bell styling
set -g window-status-activity-style bg=#f38ba8,fg=$BG_PANEL
set -g window-status-bell-style bg=#f9e2af,fg=$BG_PANEL

# Automatic window renaming
set-option -g automatic-rename on
set-option -g automatic-rename-format '#{b:pane_current_command}'







##### Session switcher (Alt-s) #####

bind -n M-s display-popup -E -w 60% -h 60% "
  tmux list-sessions -F '#S' |
  fzf --prompt='switch session > ' \
      --reverse \
      --border |
  xargs -r tmux switch-client -t
"


##### Session killer (Alt-S) #####

bind -n M-S display-popup -E -w 60% -h 60% "
  tmux list-sessions -F '#S' |
  fzf --prompt='kill session > ' \
      --reverse \
      --border \
      --multi |
  xargs -r -n1 tmux kill-session -t
"

# Add this to your ~/.tmux.conf

#     file=\$(find ~/dev ~/dev/notes ~/.config -maxdepth 1 -type f -not -path \"*/\.git/*\" 2>/dev/null | \
# Search files in multiple directories and open in new window (Alt-k)
bind-key -n M-k run-shell 'tmux display-popup -E -w 80 -h 20 "\
    file=\$(find ~/dev/repos/00_active-repos -maxdepth 1 -type d -not -path \"*/\.git/*\" 2>/dev/null | \
    fzf --prompt=\"Open file: \" \
        --height=100% \
        --border=rounded \
        --reverse \
        --preview=\"head -100 {}\" \
        --preview-window=right:50%:wrap); \
    if [ -n \"\$file\" ]; then \
        tmux new-window \"nvim \$file\" || tmux new-window \"vim \$file\" || tmux new-window \"vi \$file\"; \
    fi \
"'

# # Search files in ~/dev and open in new window (Alt-k)
# bind-key -n M-k run-shell 'tmux display-popup -E -w 80 -h 20 "\
#     file=\$(find ~/dev -type f 2>/dev/null | \
#     fzf --prompt=\"Open file: \" \
#         --height=100% \
#         --border=rounded \
#         --reverse \
#         --preview=\"head -100 {}\" \
#         --preview-window=right:50%:wrap); \
#     if [ -n \"\$file\" ]; then \
#         tmux new-window \"nvim \$file\" || tmux new-window \"vim \$file\" || tmux new-window \"vi \$file\"; \
#     fi \
# "'
#


# Tmux action menu with fzf (Alt-p)
bind-key -n M-p run-shell 'tmux display-popup -E -w 60 -h 15 "\
    action=\$(echo \"Split pane right
Split pane down
Split pane left
Split pane up
Kill current pane
Swap pane up
Swap pane down
Toggle zoom
Rename window
New window
Kill window
Choose session
Synchronize panes\" | \
    fzf --prompt=\"Tmux Action: \" \
        --height=100% \
        --border=rounded \
        --reverse \
        --cycle); \
    case \"\$action\" in \
        \"Split pane right\")   tmux split-window -h ;; \
        \"Split pane down\")    tmux split-window -v ;; \
        \"Split pane left\")    tmux split-window -hb ;; \
        \"Split pane up\")      tmux split-window -vb ;; \
        \"Kill current pane\")  tmux kill-pane ;; \
        \"Swap pane up\")       tmux swap-pane -U ;; \
        \"Swap pane down\")     tmux swap-pane -D ;; \
        \"Toggle zoom\")        tmux resize-pane -Z ;; \
        \"Rename window\")      tmux command-prompt -I \\\"#W\\\" \\\"rename-window -- %%%%%%\\\" ;; \
        \"New window\")         tmux new-window ;; \
        \"Kill window\")        tmux kill-window ;; \
        \"Choose session\")     tmux choose-session ;; \
        \"Synchronize panes\")  tmux setw synchronize-panes ;; \
    esac \
"'




# bind \` switch-client -t'{marked}'
# setw -g automatic-rename on   # rename window to reflect current program
# # set -g renumber-windows on
# bind C-f command-prompt -p find-session 'switch-client -t %%'
#
# bind b list-buffers     # list paste buffers
# bind p paste-buffer -p  # paste from the top paste buffer
# bind P choose-buffer    # choose which buffer to paste from
#
# # -- copy mode -----------------------------------------------------------------
#
# bind Enter copy-mode # enter copy mode
#
# bind -T copy-mode-vi v send -X begin-selection
# bind -T copy-mode-vi C-v send -X rectangle-toggle
# bind -T copy-mode-vi y send -X copy-selection-and-cancel
# bind -T copy-mode-vi Escape send -X cancel
# bind -T copy-mode-vi H send -X start-of-line
# bind -T copy-mode-vi L send -X end-of-line
#
#
#
#
# # -- navigation ----------------------------------------------------------------
#
# # create session
# bind C-c new-session
#
# # find session
# bind C-f command-prompt -p find-session 'switch-client -t %%'
#
# # session navigation
# bind BTab switch-client -l  # move to last session
#
# # split current window horizontally
# bind - split-window -v
# # split current window vertically
# bind _ split-window -h
#
# # pane navigation
# bind -r h select-pane -L  # move left
# bind -r j select-pane -D  # move down
# bind -r k select-pane -U  # move up
# bind -r l select-pane -R  # move right
# bind > swap-pane -D       # swap current pane with the next one
# bind < swap-pane -U       # swap current pane with the previous one
#
# # maximize current pane
# bind + run "cut -c3- '#{TMUX_CONF}' | sh -s _maximize_pane '#{session_name}' '#D'"
#
# # pane resizing
# bind -r H resize-pane -L 2
# bind -r J resize-pane -D 2
# bind -r K resize-pane -U 2
# bind -r L resize-pane -R 2
#
# # window navigation
# unbind n
# unbind p
# bind -r C-h previous-window                             # select previous window
# bind -r C-l next-window                                 # select next window
# bind -r C-S-H swap-window -t -1 \; select-window -t -1  # swap current window with the previous one
# bind -r C-S-L swap-window -t +1 \; select-window -t +1  # swap current window with the next one
# bind Tab last-window                                    # move to last active window
#
#
#
#
#
# # =========================
# # INSTANT FEEDBACK CONFIG
# # =========================
#
# # --- Status Bar ---
# set -g status on
# set -g status-interval 1
# set -g status-justify centre
# set -g status-left-length 50
# set -g status-right-length 150
#
# # Left: session + window info
# set -g status-left "#[fg=green,bold]Session: #S #[fg=cyan]| #[fg=yellow]Windows: #I:#W"
#
# # Right: pane current command + time
# set -g status-right "#[fg=magenta]#{pane_current_command} #[fg=green]| %Y-%m-%d %H:%M:%S"
#
# # Style active/inactive windows
# setw -g window-status-current-style bg=blue,fg=white,bold
# setw -g window-status-style fg=grey,bg=black
#
# # --- Mouse & Copy Mode ---
# set -g mouse on
# setw -g mode-keys vi        # vi-style navigation
# bind -T copy-mode-vi '?' display-message "Use v to select, y to copy, Esc to cancel"
#
# # --- Key Feedback Messages ---
# bind r source-file ~/.tmux.conf \; display-message "Reloaded tmux config!"
# bind + run "display-message 'Maximizing pane...'" 
#
# # --- Pane & Window Notifications ---
# # Show a message when creating new session or window
# bind C-c new-session \; display-message "New session created"
# bind _ split-window -h \; display-message "Split window vertically"
# bind - split-window -v \; display-message "Split window horizontally"
#
# # --- Instant Key Hints (help popup) ---
# bind ? run-shell "tmux list-keys | grep 'bind' | less"
#
# # --- Notifications for long-running processes ---
# # Example: bind to run command and notify when done
# bind n command-prompt -p "Run command:" "run-shell 'sh -c \"%%; notify-send \"tmux: Task Done\"\"'"
#
# # --- Zoom & Resize feedback ---
# bind + run-shell "display-message 'Maximizing pane'" \; resize-pane -Z
# bind -r H resize-pane -L 2 \; display-message "Resized pane left"
# bind -r J resize-pane -D 2 \; display-message "Resized pane down"
# bind -r K resize-pane -U 2 \; display-message "Resized pane up"
# bind -r L resize-pane -R 2 \; display-message "Resized pane right"
#
# # --- Git/Command status hints ---
# # Optional: show git branch in status if inside git repo
# set -g status-right-length 200
# set -g status-right "#(git -C #{pane_current_path} rev-parse --abbrev-ref HEAD 2>/dev/null || echo '') #[fg=green]| %H:%M:%S"
#
# # --- Optional: Visual pane zoom indicator ---
# set -g display-panes-time 3000
# set -g display-panes-colour yellow
# set -g display-panes-active-colour red
#
# # --- Misc UX tweaks ---
# # set -g bell-action none
# # setw -g monitor-activity on
# # set -g visual-activity on
#
#
#
#
#
#
# # Bind Meta+k to a popup file selector
# bind-key -n M-k display-popup -E "bash -c '
# # List files in /dev matching patterns (adjust patterns as needed)
# files=$(ls /dev/{sd*,tty*} 2>/dev/null)
# # Launch fzf in popup style
# selected=$(echo \"$files\" | fzf --height 40% --border --prompt \"Select file: \")
# # Optional: echo the selected file so it can be used elsewhere
# echo \"$selected\"
# read -p \"Press Enter to close...\"
# '"
#
#
#
